<!DOCTYPE HTML>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <title>Validate the Certificate</title>
 <link rel="stylesheet" href="/stylesheets/base.css">
</head>
<body class="verify">

  <header>
    <h1>OpenEdX</h1>
  </header>

  <section>
    <section class="introduction">
      <p>
        The Certificates issued by OpenEdX are signed by a 
        <a href="http://www.gnupg.org">gpg</a> key so that
        they can be validated independently by anyone who has
        the correct OpenEdX public key.  For independent verification OpenEdX uses 
        what is called a "detached signature",
        meaning that the signature for the certificate is contained in
        a separate file with a ".sig" extension.  
      </p>

      <p>
        To complete the verification procedure you will need the following
        three files:
        <ul>
          <li>The <a href="http://localhost:18090/cert/89dff14b925747949b042dcfbfee466d/verify.html/openedx.pub">official openedx instance public key</a>.</li>
          <li>The OpenEdX Certificate belonging to John Doë (you should already have this file).</li>
          <li>The <a href="http://localhost:18090/cert/89dff14b925747949b042dcfbfee466d/Certificate.pdf.sig">signature file</a> for John Doë's Certificate</li>
        </ul>
      </p>

      <p> 
        Ensure you have the pdf, the ".sig" signature file and the public key 
        copied to a single directory before you begin.
      </p>
    </section>

    <section class="instruction">
      <header>
        <h1>Import the public key on OSX using GPG Keychain</h1>
      </header>

      <ul>
        <li><p>Download and install <a href="http://www.gpgtools.org/installer/index.html">gpgtools</a>.</p></li>
        <li><p>After installation, GPG Keychain Access will prompt for a new personal keypair.</p>
          <p><img class="ss" src="/images/osxgpg-new-keypair.png" alt="new keypair" /></p>
        </li>
        <li><p>Click the import icon to import the public key file, <i>openedx.pub</i>.</p></li>
        <li><p>CTRL-click the public key and select "sign" to validate it.</p>
          <p><img class="ss" src="/images/osxgpg-sign-key.png" alt="sign key"/></p></li>
          <li><p>Confirm that the public key is listed in the GPG Keychain Access window and it has Short ID FEF8D954.</p>
        <img class="ss" src="/images/osxgpg-key-list.png" alt="sign key"/></li>
    </ul>
  </section>

  <section class="instruction">

    <header>
      <h1>Import the edX public key on Microsoft Windows using gpg4win</h1>
    </header>

    <ul>
      <li><p>Download and install the full version of <a href="http://www.gpg4win.org/download.html">gpg4win</a>.</p></li>
      <li><p>After the installation is complete, launch Kleapatra from the start menu.</p></li>
      <li><p>Create a new personal certificate if don't have one listed under "My Certificates". </p>
        <p><img class="ss" src="/images/wingpg-new-cert.png" alt="new certificate" /> </p></li>
      <p>When prompted, select "Create personal OpenPGP key pair."</p>
      <p><img class="ss" src="/images/wingpg-new-cert2.png" alt="new certificate" /></p> </li>
      <li><p>Import the public key file, <i>openedx.pub</i> by clicking on the "Import Certificate" icon.</p></li>
    <li><p>Certify the public key by highlighting the new public key/certificate and selecting "Certify Certificate" under the "Certificates" menu.</p>
      <p><img class="ss" src="/images/wingpg-certify-cert.png" alt="certify certificate" /></p> </li>
    <li><p>Make sure that the public key/certificate is listed under the "Trusted Certificates" tab and verify it has the Key-ID FEF8D954.</p>
      <p><img class="ss" src="/images/wingpg-verify-cert.png" alt="verify the certificate" /></p> </li>
  </ul>
</section>

<section>
  <header>
    <h1>Verify the edX certificate using gpg on both OSX and Windows</h1>
  </header>
  <ul>
    <li>Open up a new terminal on OSX or a command window on Windows</li>
    <li>Go into the directory where the .sig and .pdf files are located</li>
    <li>Run the following command to verify the fingerprint of the edx key</li>
        <pre>gpg --verify Certificate.pdf.sig Certificate.pdf</pre>
    <li>Confirm that "Good signature from "OpenEdX Example &lt;techsupport@example.com&gt;" is reported by gpg</li>
  </ul>
</section>
  </section>

  <footer>
  </footer>
</body>
</html>
